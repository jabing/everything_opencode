{
  "$schema": "https://opencode.ai/config.json",
  "model": "zhipuai-coding-plan/glm-5",
  "small_model": "zhipuai-coding-plan/glm-4.5-flash",
  "default_agent": "eoc_build",
  "instructions": [
    "AGENTS.md",
    "CONTRIBUTING.md",
    ".opencode/instructions/INSTRUCTIONS.md",
    "skills/tdd-workflow/SKILL.md",
    "skills/security-review/SKILL.md",
    "skills/coding-standards/SKILL.md",
    "skills/frontend-patterns/SKILL.md",
    "skills/backend-patterns/SKILL.md",
    "skills/e2e-testing/SKILL.md",
    "skills/verification-loop/SKILL.md",
    "skills/api-design/SKILL.md",
    "skills/strategic-compact/SKILL.md",
    "skills/eval-harness/SKILL.md"
  ],
  "plugin": [
    "./.opencode/plugins"
  ],
  "agent": {
    "eoc_build": {
      "description": "Primary coding agent for development work",
      "mode": "primary",
      "model": "zhipuai-coding-plan/glm-5",
      "tools": {
        "write": true,
        "edit": true,
        "bash": true,
        "read": true
      }
    },
    "eoc_planner": {
      "description": "Expert planning specialist for complex features and refactoring",
      "mode": "primary",
      "model": "zhipuai-coding-plan/glm-5",
      "prompt": "{file:./prompts/agents/planner.txt}",
      "tools": {
        "read": true,
        "bash": true,
        "write": false,
        "edit": false
      }
    },
    "eoc_code-reviewer": {
      "description": "Expert code review specialist",
      "mode": "primary",
      "model": "zhipuai-coding-plan/glm-5",
      "prompt": "{file:./prompts/agents/code-reviewer.txt}",
      "tools": {
        "read": true,
        "bash": true,
        "write": false,
        "edit": false
      }
    }
  },
  "command": {
    "plan": {
      "description": "Create a detailed implementation plan for complex features",
      "template": "{file:./commands/plan.md}\n\n$ARGUMENTS",
      "agent": "eoc_planner",
      "subtask": true
    },
    "tdd": {
      "description": "Enforce TDD workflow with 80%+ test coverage",
      "template": "{file:./commands/tdd.md}\n\n$ARGUMENTS",
      "agent": "tdd-guide",
      "subtask": true
    },
    "code-review": {
      "description": "Review code for quality, security, and maintainability",
      "template": "{file:./commands/code-review.md}\n\n$ARGUMENTS",
      "agent": "eoc_code-reviewer",
      "subtask": true
    },
    "security": {
      "description": "Run comprehensive security review",
      "template": "{file:./commands/security.md}\n\n$ARGUMENTS",
      "agent": "security-reviewer",
      "subtask": true
    },
    "build-fix": {
      "description": "Fix build and TypeScript errors with minimal changes",
      "template": "{file:./commands/build-fix.md}\n\n$ARGUMENTS",
      "agent": "build-error-resolver",
      "subtask": true
    },
    "e2e": {
      "description": "Generate and run E2E tests with Playwright",
      "template": "{file:./commands/e2e.md}\n\n$ARGUMENTS",
      "agent": "e2e-runner",
      "subtask": true
    },
    "refactor-clean": {
      "description": "Remove dead code and consolidate duplicates",
      "template": "{file:./commands/refactor-clean.md}\n\n$ARGUMENTS",
      "agent": "refactor-cleaner",
      "subtask": true
    },
    "orchestrate": {
      "description": "Orchestrate multiple agents for complex tasks",
      "template": "{file:./commands/orchestrate.md}\n\n$ARGUMENTS",
      "agent": "eoc_planner",
      "subtask": true
    },
    "learn": {
      "description": "Extract patterns and learnings from session",
      "template": "{file:./commands/learn.md}\n\n$ARGUMENTS"
    },
    "checkpoint": {
      "description": "Save verification state and progress",
      "template": "{file:./commands/checkpoint.md}\n\n$ARGUMENTS"
    },
    "verify": {
      "description": "Run verification loop",
      "template": "{file:./commands/verify.md}\n\n$ARGUMENTS"
    },
    "eval": {
      "description": "Run evaluation against criteria",
      "template": "{file:./commands/eval.md}\n\n$ARGUMENTS"
    },
    "update-docs": {
      "description": "Update documentation",
      "template": "{file:./commands/update-docs.md}\n\n$ARGUMENTS",
      "agent": "doc-updater",
      "subtask": true
    },
    "update-codemaps": {
      "description": "Update codemaps",
      "template": "{file:./commands/update-codemaps.md}\n\n$ARGUMENTS",
      "agent": "doc-updater",
      "subtask": true
    },
    "test-coverage": {
      "description": "Analyze test coverage",
      "template": "{file:./commands/test-coverage.md}\n\n$ARGUMENTS",
      "agent": "tdd-guide",
      "subtask": true
    },
    "setup-pm": {
      "description": "Configure package manager",
      "template": "{file:./commands/setup-pm.md}\n\n$ARGUMENTS"
    },
    "go-review": {
      "description": "Go code review",
      "template": "{file:./commands/go-review.md}\n\n$ARGUMENTS",
      "agent": "go-reviewer",
      "subtask": true
    },
    "go-test": {
      "description": "Go TDD workflow",
      "template": "{file:./commands/go-test.md}\n\n$ARGUMENTS",
      "agent": "tdd-guide",
      "subtask": true
    },
    "go-build": {
      "description": "Fix Go build errors",
      "template": "{file:./commands/go-build.md}\n\n$ARGUMENTS",
      "agent": "go-build-resolver",
      "subtask": true
    },
    "skill-create": {
      "description": "Generate skills from git history",
      "template": "{file:./commands/skill-create.md}\n\n$ARGUMENTS"
    },
    "instinct-status": {
      "description": "View learned instincts",
      "template": "{file:./commands/instinct-status.md}\n\n$ARGUMENTS"
    },
    "instinct-import": {
      "description": "Import instincts",
      "template": "{file:./commands/instinct-import.md}\n\n$ARGUMENTS"
    },
    "instinct-export": {
      "description": "Export instincts",
      "template": "{file:./commands/instinct-export.md}\n\n$ARGUMENTS"
    },
    "evolve": {
      "description": "Cluster instincts into skills",
      "template": "{file:./commands/evolve.md}\n\n$ARGUMENTS"
    }
  },
  "permission": {
    "mcp_*": "ask"
  }
}
